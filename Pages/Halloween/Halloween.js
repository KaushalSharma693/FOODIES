const product = [
  {
    id: 0,
    image: '/images/h1.webp',
    title: 'CHEESY BUFFALO CHICKEN SKULLS',
    price: 10.75,
    spookyLevel: 'ðŸ’€ Moderately Spooky',
    prepTime: '20 mins',
    cookTime: '25 mins',
    servings: '12 skulls',
    ingredients: [
      '3 cups cooked, shredded chicken',
      '8 oz cream cheese, softened',
      '1/2 cup buffalo sauce',
      '1 cup shredded cheddar cheese',
      '1/2 cup ranch dressing',
      '2 packages (8 oz each) crescent roll dough',
      '2 tablespoons butter, melted',
      '1 teaspoon garlic powder',
      'Black olives for eyes',
      'Red bell pepper strips for decoration'
    ],
    instructions: [
      'Preheat oven to 375Â°F (190Â°C). Line baking sheets with parchment paper.',
      'In a bowl, mix shredded chicken, cream cheese, buffalo sauce, cheddar cheese, and ranch dressing until well combined.',
      'Unroll crescent dough and separate into triangles.',
      'Place about 2 tablespoons of chicken mixture in the center of each triangle.',
      'Fold dough over filling and shape into skull shapes, pinching edges to seal.',
      'Use kitchen shears to cut eye sockets and a nose hole.',
      'Brush with melted butter mixed with garlic powder.',
      'Bake for 20-25 minutes until golden brown.',
      'Insert olive slices for eyes and bell pepper strips for decoration.',
      'Serve warm with extra buffalo sauce or ranch for dipping.'
    ],
    tips: 'Make these ahead and freeze before baking! You can use rotisserie chicken to save time. For extra spooky effect, use food coloring in the dough. Kids love helping shape the skulls. Adjust the buffalo sauce amount for heat preference.',
    decoration: 'Arrange on a black platter with dry ice underneath for a foggy effect. Add fake spider webs around the serving dish. Use ketchup or sriracha to create "blood" drips. Serve with vegetable "bones" (celery and carrot sticks).'
  },
  {
    id: 1,
    image: '/images/h2.webp',
    title: 'PUMPKIN CAKE ROLL WITH CREAM CHEESE FILLING',
    price: 12.99,
    spookyLevel: 'ðŸŽƒ Sweet & Spooky',
    prepTime: '30 mins',
    cookTime: '15 mins',
    servings: '10 slices',
    ingredients: [
      '3 large eggs',
      '1 cup granulated sugar',
      '2/3 cup pumpkin puree',
      '3/4 cup all-purpose flour',
      '1 teaspoon baking soda',
      '2 teaspoons pumpkin pie spice',
      '1/2 teaspoon salt',
      '8 oz cream cheese, softened',
      '1 cup powdered sugar',
      '6 tablespoons butter, softened',
      '1 teaspoon vanilla extract',
      'Powdered sugar for dusting'
    ],
    instructions: [
      'Preheat oven to 375Â°F (190Â°C). Line a 15x10 inch jelly roll pan with parchment paper and grease.',
      'Beat eggs and granulated sugar for 5 minutes until thick. Stir in pumpkin puree.',
      'In separate bowl, combine flour, baking soda, pumpkin pie spice, and salt.',
      'Fold dry ingredients into pumpkin mixture.',
      'Spread batter evenly in prepared pan.',
      'Bake 13-15 minutes until cake springs back when touched.',
      'While baking, lay out a clean kitchen towel and dust generously with powdered sugar.',
      'When cake is done, immediately turn onto towel. Peel off parchment paper.',
      'Starting at short end, roll up cake and towel together. Cool completely on wire rack.',
      'For filling: beat cream cheese, powdered sugar, butter, and vanilla until smooth.',
      'Unroll cooled cake carefully. Spread filling evenly, leaving 1/2 inch border.',
      'Roll up cake without the towel. Wrap in plastic and refrigerate at least 1 hour.',
      'Dust with powdered sugar before serving. Slice with a serrated knife.'
    ],
    tips: 'The key to not cracking is rolling while warm! Make sure to use pumpkin puree, not pumpkin pie filling. This can be made 2 days ahead and refrigerated. For Halloween, draw a jack-o-lantern face with chocolate on top. Freeze slices for an easy make-ahead dessert.',
    decoration: 'Dust with orange-tinted powdered sugar for extra pumpkin appeal. Pipe chocolate spider webs on top. Add candy pumpkins or ghost marshmallows around the platter. Serve on an orange or black cake stand.'
  },
  {
    id: 2,
    image: '/images/h3.webp',
    title: 'FRANKENSTEIN SNACK CAKES',
    price: 17.49,
    spookyLevel: 'ðŸ‘» Kid-Friendly Spooky',
    prepTime: '45 mins',
    cookTime: '20 mins',
    servings: '12 cakes',
    ingredients: [
      '1 box chocolate cake mix (plus required ingredients)',
      '2 cups vanilla frosting',
      'Green food coloring',
      '1 cup chocolate frosting',
      'Chocolate chips for eyes',
      'Red gel icing for mouth',
      'Pretzel sticks for neck bolts',
      'Mini marshmallows for teeth',
      'Black decorating gel'
    ],
    instructions: [
      'Prepare chocolate cake according to package directions.',
      'Pour batter into greased 9x13 inch pan.',
      'Bake according to package directions. Cool completely.',
      'Cut cake into 12 rectangles (3x4 inches each).',
      'Mix green food coloring into vanilla frosting until desired Frankenstein color.',
      'Frost top and sides of each rectangle with green frosting.',
      'Use a knife to create texture marks for the "stitches."',
      'Add two chocolate chips for eyes.',
      'Use chocolate frosting to create hair on top.',
      'Insert pretzel sticks on sides for neck bolts.',
      'Draw stitches with black gel.',
      'Add red gel for mouth and mini marshmallow pieces for teeth.',
      'Refrigerate until serving.'
    ],
    tips: 'Use store-bought snack cakes to make this even easier - just decorate! Food coloring gels create more vibrant colors than liquid. Let kids help decorate - each Frankenstein can have its own personality. These freeze well without the pretzel bolts.',
    decoration: 'Create a "laboratory" setting with dry ice fog. Arrange on metal trays with bolts and nuts scattered around. Use toy laboratory equipment as props. Add edible "electricity" with yellow lightning bolt candies.'
  },
  {
    id: 3,
    image: '/images/h4.webp',
    title: 'DINNER IN A PUMPKIN',
    price: 13.32,
    spookyLevel: 'ðŸŽƒ Harvest Spooky',
    prepTime: '25 mins',
    cookTime: '90 mins',
    servings: '6-8 servings',
    ingredients: [
      '1 medium pumpkin (about 5-6 lbs)',
      '1 lb ground beef',
      '1 medium onion, diced',
      '2 cloves garlic, minced',
      '1 cup cooked rice',
      '1 can (14.5 oz) diced tomatoes',
      '1 cup shredded cheddar cheese',
      '1 teaspoon dried oregano',
      '1/2 teaspoon cumin',
      'Salt and pepper to taste',
      '1/2 cup beef broth',
      '1 tablespoon olive oil'
    ],
    instructions: [
      'Preheat oven to 350Â°F (175Â°C).',
      'Cut the top off pumpkin and scoop out seeds and strings. Save the top as a lid.',
      'Brush inside of pumpkin with olive oil, season with salt and pepper.',
      'Place pumpkin in a baking dish and bake for 30 minutes.',
      'Meanwhile, brown ground beef in a large skillet. Drain excess fat.',
      'Add onion and garlic, cook until softened (about 5 minutes).',
      'Stir in rice, tomatoes, half the cheese, oregano, cumin, salt, and pepper.',
      'Add beef broth and simmer for 10 minutes.',
      'Remove pumpkin from oven. Fill with beef mixture.',
      'Sprinkle remaining cheese on top. Replace pumpkin lid.',
      'Return to oven and bake 60 minutes until pumpkin is tender.',
      'Let rest 10 minutes before serving.',
      'Scoop out filling with some pumpkin flesh to serve.'
    ],
    tips: 'Choose a pumpkin with a flat bottom so it sits steady. Sugar pumpkins work best - avoid jack-o-lantern pumpkins as they\'re too stringy. You can use ground turkey or make it vegetarian with beans and vegetables. The pumpkin flesh becomes sweet and tender - make sure to serve some with each portion!',
    decoration: 'Before filling, carve a jack-o-lantern face on the pumpkin! Serve directly at the table for dramatic effect. Surround with fall leaves and mini pumpkins. Use autumn-colored napkins and plates.'
  },
  {
    id: 4,
    image: '/images/h5.webp',
    title: 'MARBLED EYEBALL CAKE',
    price: 42,
    spookyLevel: 'ðŸ‘ï¸ Maximum Spooky',
    prepTime: '40 mins',
    cookTime: '35 mins',
    servings: '12 servings',
    ingredients: [
      '2 boxes white cake mix (plus required ingredients)',
      'Red food coloring',
      'Blue food coloring',
      '3 cups vanilla buttercream frosting',
      '1 cup white fondant',
      'Black food coloring gel',
      'Red gel icing',
      'Edible eyeball candies',
      '1/2 cup strawberry jam',
      'Large sphere cake pan or bowl'
    ],
    instructions: [
      'Prepare cake batter according to package directions, dividing into two bowls.',
      'Leave one white, color the other red.',
      'Grease sphere cake pan generously.',
      'Alternate spooning white and red batter into pan, creating marble effect.',
      'Swirl gently with a knife for veins.',
      'Bake according to package directions. Cool completely.',
      'If using bowls, bake two hemispheres and sandwich together with jam.',
      'Frost entire sphere with white buttercream.',
      'Use toothpick to draw vein patterns.',
      'Fill in veins with red gel icing.',
      'Roll out white fondant into a circle for the iris.',
      'Color center with blue food coloring for iris.',
      'Add black gel in center for pupil.',
      'Place fondant eye on front of cake.',
      'Add edible eyeballs around the base for extra creepiness.'
    ],
    tips: 'A sphere cake pan makes this easier, but two bowls work fine! Chill the cake before decorating for easier frosting. Make the fondant eye ahead of time. For extra realism, add yellow food coloring around the iris. This cake is a guaranteed showstopper at any Halloween party!',
    decoration: 'Serve on a black cake stand with dry ice underneath. Drizzle red "blood" (strawberry sauce) around the base. Scatter plastic eyeballs on the serving table. Dim the lights and add a spotlight for dramatic effect.'
  },
  {
    id: 5,
    image: '/images/h6.webp',
    title: 'SPOOKY EYEBALL TACOS',
    price: 13.29,
    spookyLevel: 'ðŸ‘ï¸ Creepy & Delicious',
    prepTime: '20 mins',
    cookTime: '15 mins',
    servings: '8 tacos',
    ingredients: [
      '1 lb ground beef or turkey',
      '1 packet taco seasoning',
      '8 hard taco shells',
      '1 cup shredded lettuce',
      '1 cup shredded cheese',
      '1/2 cup sour cream',
      '8 large mozzarella balls (for eyeballs)',
      '8 large black olives, sliced',
      'Salsa or hot sauce for "blood"',
      'Diced tomatoes',
      'Sliced jalapeÃ±os (optional)'
    ],
    instructions: [
      'Brown ground meat in a skillet over medium-high heat.',
      'Drain fat and add taco seasoning with water according to package directions.',
      'Simmer until thickened, about 5 minutes.',
      'Warm taco shells according to package directions.',
      'To assemble: Add meat to each taco shell.',
      'Top with lettuce and cheese.',
      'Place one mozzarella ball in center of each taco for "eyeball."',
      'Add an olive slice to each mozzarella ball for the pupil.',
      'Use a toothpick dipped in hot sauce to draw red veins on the mozzarella.',
      'Add sour cream "ooze" dripping down the sides.',
      'Garnish with tomatoes and jalapeÃ±os around the eyeball.',
      'Drizzle with salsa for "blood."'
    ],
    tips: 'Use mini mozzarella balls for smaller eyeballs if preferred. For vegetarian version, use seasoned black beans. Make an eyeball station and let everyone assemble their own creepy tacos. You can also use hard-boiled eggs halved for the eyeballs. Add green salsa for an extra "oozy" effect!',
    decoration: 'Serve on a black platter with plastic spiders. Use red tortilla chips as "bloody" chips on the side. Create labels that say "Eye-Tacos" or "Taco Bell\'s Evil Twin." Add dry ice in water nearby for foggy atmosphere.'
  },
  {
    id: 6,
    image: '/images/h7.webp',
    title: 'DARK CREEPY GORY CHOCOLATE CAKE',
    price: 7.79,
    spookyLevel: 'ðŸ’€ Extremely Spooky',
    prepTime: '30 mins',
    cookTime: '30 mins',
    servings: '10-12 servings',
    ingredients: [
      '2 cups all-purpose flour',
      '2 cups granulated sugar',
      '3/4 cup dark cocoa powder',
      '2 teaspoons baking soda',
      '1 teaspoon salt',
      '2 eggs',
      '1 cup strong black coffee, cooled',
      '1 cup buttermilk',
      '1/2 cup vegetable oil',
      '1 teaspoon vanilla extract',
      '3 cups chocolate buttercream frosting',
      'Red gel icing',
      'Chocolate shavings',
      'Candy bones or plastic skeletons for decoration'
    ],
    instructions: [
      'Preheat oven to 350Â°F (175Â°C). Grease two 9-inch round pans.',
      'In large bowl, whisk together flour, sugar, cocoa, baking soda, and salt.',
      'Add eggs, coffee, buttermilk, oil, and vanilla. Beat until smooth (batter will be thin).',
      'Pour evenly into prepared pans.',
      'Bake 30-35 minutes until toothpick comes out clean.',
      'Cool in pans 10 minutes, then turn out onto wire racks to cool completely.',
      'Place one layer on serving plate. Spread with frosting.',
      'Top with second layer. Frost top and sides.',
      'Use a spatula to create rough, uneven texture on frosting.',
      'Drizzle red gel icing from top, letting it drip down sides like blood.',
      'Add more red gel in pools on top.',
      'Sprinkle with chocolate shavings for a "dirt" effect.',
      'Decorate with candy bones, plastic spiders, or skeleton decorations.'
    ],
    tips: 'The coffee enhances the chocolate flavor but doesn\'t make it taste like coffee. For extra darkness, use black cocoa powder. Make the cake layers ahead and freeze. The red gel works best if slightly warmed. Add crushed Oreos on top for "graveyard dirt." This cake is rich and moist - perfect for chocolate lovers!',
    decoration: 'Serve on a tombstone-shaped cake board. Add a fence made of pretzel sticks around the base. Use Milano cookies as tombstones with RIP written in icing. Create a graveyard scene with gummy worms crawling out. Add green-tinted coconut for "moldy" grass.'
  },
  {
    id: 7,
    image: '/images/h8.webp',
    title: 'HALLOWEEN JACK-O-LANTERN PASTA DINNER',
    price: 19.99,
    spookyLevel: 'ðŸŽƒ Family-Friendly',
    prepTime: '15 mins',
    cookTime: '25 mins',
    servings: '6 servings',
    ingredients: [
      '1 lb pasta (penne or rigatoni)',
      '1 lb Italian sausage',
      '1 can (28 oz) crushed tomatoes',
      '1 can (15 oz) pumpkin puree',
      '1 cup heavy cream',
      '3 cloves garlic, minced',
      '1 teaspoon dried basil',
      '1/2 teaspoon red pepper flakes',
      'Salt and pepper to taste',
      '1 cup shredded mozzarella',
      'Fresh basil for garnish',
      'Bell pepper strips for jack-o-lantern face'
    ],
    instructions: [
      'Cook pasta according to package directions. Drain and set aside.',
      'In large skillet, cook sausage over medium heat until browned. Break into pieces.',
      'Add garlic and cook 1 minute until fragrant.',
      'Stir in crushed tomatoes, pumpkin puree, heavy cream, basil, and red pepper flakes.',
      'Season with salt and pepper.',
      'Simmer for 15 minutes, stirring occasionally.',
      'Add cooked pasta to sauce and toss to coat.',
      'Transfer to oven-safe serving dish.',
      'Sprinkle mozzarella on top.',
      'Broil for 2-3 minutes until cheese is melted and bubbly.',
      'Arrange bell pepper strips on top to create jack-o-lantern face.',
      'Garnish with fresh basil leaves.'
    ],
    tips: 'The pumpkin adds creaminess and nutrients without a strong pumpkin flavor. Use turkey sausage for a lighter option. Make it vegetarian by omitting sausage and adding mushrooms and zucchini. This reheats beautifully for leftovers. Kids love the jack-o-lantern face - let them help design it!',
    decoration: 'Serve in a large black cauldron or orange Dutch oven. Use different colored bell peppers for various jack-o-lantern expressions (happy, scary, surprised). Serve with breadsticks decorated as "witch fingers" (almond slices for nails). Add a side salad served in mini pumpkins.'
  }
];

const categories = product.map(item => item.title);

// Render products
document.querySelector("#root").innerHTML = product.map((item, i) => {
  const { image, title, price } = item;
  return `
    <div class='box'>
      <div class='img-box'>
        <img class='images' src=${image} alt="${title}">
      </div>
      <div class='bottom'>
        <p>${title}</p>
        <h2>$ ${price.toFixed(2)}</h2>
        <div class="button-group">
          <button class="add-to-cart-btn" onClick='addtocart(${i})'>
            <i class="fa-solid fa-cart-plus"></i> Add to Cart
          </button>
          <button class="view-recipe-btn" onClick='viewRecipe(${i})'>
            <i class="fa-solid fa-ghost"></i> Recipe
          </button>
        </div>
      </div>
    </div>`;
}).join('');

// Add to cart function
function addtocart(i) {
  const p = product[i];
  addToCart({
    id: "halloween-" + p.id,
    title: p.title,
    price: p.price,
    image: p.image
  });
}

// View recipe function
function viewRecipe(i) {
  const recipe = product[i];
  const modal = document.getElementById('recipeModal');
  
  // Populate modal content
  document.getElementById('modalImage').src = recipe.image;
  document.getElementById('modalTitle').textContent = recipe.title;
  document.getElementById('spookyLevel').textContent = recipe.spookyLevel;
  document.getElementById('prepTime').textContent = `Prep: ${recipe.prepTime}`;
  document.getElementById('cookTime').textContent = `Cook: ${recipe.cookTime}`;
  document.getElementById('servings').textContent = `Serves: ${recipe.servings}`;
  
  // Populate ingredients
  const ingredientsList = document.getElementById('ingredients');
  ingredientsList.innerHTML = recipe.ingredients.map(ing => `<li>${ing}</li>`).join('');
  
  // Populate instructions
  const instructionsList = document.getElementById('instructions');
  instructionsList.innerHTML = recipe.instructions.map(inst => `<li>${inst}</li>`).join('');
  
  // Populate tips
  document.getElementById('tips').textContent = recipe.tips;
  
  // Populate decoration
  document.getElementById('decoration').textContent = recipe.decoration;
  
  // Show modal
  modal.style.display = 'block';
}

// Modal close functionality
const modal = document.getElementById('recipeModal');
const span = document.getElementsByClassName('close')[0];

span.onclick = function() {
  modal.style.display = 'none';
}

window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = 'none';
  }
}

// Close modal with Escape key
document.addEventListener('keydown', function(event) {
  if (event.key === 'Escape') {
    modal.style.display = 'none';
  }
});